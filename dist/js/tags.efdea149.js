(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{269:function(t,e,a){"use strict";a.r(e);var n=a(4),s=a.n(n),i=a(6),l={name:"",data:function(){return{currentTag:{}}},computed:s()({},Object(i.d)(["tags"])),asyncData:function(t){var e=t.store;t.route;return e.dispatch("getAllTags")},mounted:function(){this.getAllTags()},methods:s()({},Object(i.b)(["getAllTags"]),{goToTagDetails:function(t){this.$router.push("/tag/"+t._id)},openOperateTagDialog:function(t){var e=this;this.currentTag=t,this.$alert("输入标签名",{buttons:{cancel:{text:"取消",value:null,visible:!0,closeModal:!0},confirm:{text:"保存",value:null,visible:!0,closeModal:!0}},content:{element:"input",attributes:{placeholder:"输入标签名",defaultValue:t?t.label:""}}}).then(function(a){null!==a&&(""!==a?t?e.updateTag(t._id,a):e.addTag(a):e.$notify.warning("标签名不能为空"))})},openDeleteTagDialog:function(t){var e=this;this.$alert({title:"确定要删除此标签吗？",text:"一旦删除，您将不能撤销此操作",icon:"warning",buttons:!0,dangerMode:!0}).then(function(a){a&&e.deleteTag(t._id)})},addTag:function(t){var e=this;this.$http({url:"/tag",method:"post",data:{label:t},showSuccessMsg:!0,showErrorMsg:!0}).xhrInstance.then(function(){e.getAllTags()},function(){})},updateTag:function(t,e){var a=this;this.$http({url:"/tag/"+t,method:"put",data:{label:e},showSuccessMsg:!0,showErrorMsg:!0}).xhrInstance.then(function(){a.getAllTags()},function(){})},deleteTag:function(t){var e=this;this.$http({url:"/tag/"+t,method:"delete",showSuccessMsg:!0,showErrorMsg:!0}).xhrInstance.then(function(){e.getAllTags()},function(){})}})},o=(a(517),a(9)),c=Object(o.a)(l,function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"tags-page"},[a("div",{staticClass:"page-header"},[a("h1",[t._v("所有标签")]),t._v(" "),a("div",{staticClass:"add-btn"},[a("el-button",{attrs:{type:"success",plain:"",size:"small"},on:{click:function(e){return t.openOperateTagDialog()}}},[t._v("添加")])],1)]),t._v(" "),a("ul",{staticClass:"tag-list"},t._l(t.tags,function(e){return a("li",{key:e.label,staticClass:"list-item"},[a("i",{staticClass:"el-icon-price-tag"}),t._v(" "),a("span",{staticClass:"tag-name",on:{click:function(a){return t.goToTagDetails(e)}}},[t._v(t._s(e.label))]),t._v(" "),a("span",{staticClass:"operate-wrap"},[a("i",{staticClass:"el-icon-edit",on:{click:function(a){return t.openOperateTagDialog(e)}}}),t._v(" "),a("i",{staticClass:"el-icon-delete",on:{click:function(a){return t.openDeleteTagDialog(e)}}})])])}),0)])},[],!1,null,"31e48e30",null);e.default=c.exports},281:function(t,e,a){var n=a(518);"string"==typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);(0,a(3).default)("27fc71e0",n,!0,{})},517:function(t,e,a){"use strict";var n=a(281);a.n(n).a},518:function(t,e,a){(t.exports=a(2)(!1)).push([t.i,".tags-page .page-header[data-v-31e48e30] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-bottom: 20px;\n}\n.tags-page .tag-list .list-item[data-v-31e48e30] {\n  display: flex;\n  align-items: center;\n  padding: 15px 5px;\n  border-bottom: 1px solid #e5e5e5;\n}\n.tags-page .tag-list .list-item .tag-name[data-v-31e48e30] {\n  cursor: pointer;\n}\n.tags-page .tag-list .list-item .operate-wrap[data-v-31e48e30] {\n  margin-left: auto;\n}\n.tags-page .tag-list .list-item .operate-wrap i[data-v-31e48e30] {\n  margin-left: 5px;\n  cursor: pointer;\n}\n",""])}}]);