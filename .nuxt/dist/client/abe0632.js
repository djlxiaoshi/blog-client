(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{492:function(t,e,r){var content=r(729);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(15).default)("167cbe5c",content,!0,{sourceMap:!1})},728:function(t,e,r){"use strict";r(492)},729:function(t,e,r){(e=r(14)(!1)).push([t.i,".article-management-page .item-thumbnail[data-v-5a293999]{padding:5px}",""]),t.exports=e},785:function(t,e,r){"use strict";r.r(e);r(39),r(25),r(19),r(10),r(30);var n=r(16),l=r(17),o=r(100);function c(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?c(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):c(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={components:{AppLoading:o.a},data:function(){return{columns:[{label:"缩略图",width:180,field:"thumbnail",slot:"thumbnail"},{label:"标题",width:180,field:"title",slot:"title"},{label:"作者",width:100,field:"createUser",slot:"author"},{label:"简介",field:"abstract"},{label:"创建时间",width:180,field:"createTime"},{label:"更新时间",width:180,field:"updateTime"},{label:"公开",width:80,field:"status",slot:"visible"},{label:"操作",width:200,slot:"operate"}]}},computed:d({},Object(l.d)({userArticles:function(t){return t.user.userArticles}})),asyncData:function(t){var e=t.store;t.router;return e.dispatch("user/getUserArticles",{currentPage:1,pageSize:10})},methods:d(d(d({},Object(l.c)({setUserArticle:"user/setUserArticles"})),Object(l.b)({getUserArticles:"user/getUserArticles"})),{},{togglePublish:function(t,e){var r=this;this.$http({url:"/article/".concat(e),method:"put",data:{status:t},showSuccessMsg:"操作成功",showErrorMsg:!0}).response.then((function(){r.getUserArticles(e)}),(function(){}))},edit:function(article){this.$router.push("/admin/post/".concat(article._id))},del:function(article){var t=this;this.$alert({title:"警告",text:"您确定要删除这篇文章吗？",icon:"warning",buttons:!0,dangerMode:!0}).then((function(e){e&&t.deleteArticle(article._id)}))},config:function(article){this.$router.push("/admin/article/config/".concat(article._id))},deleteArticle:function(t){var e=this;this.$http({url:"/article/".concat(t),method:"delete",showSuccessMsg:!0,showErrorMsg:!0}).response.then((function(){e.getUserArticles({currentPage:1,pageSize:10})}),(function(){}))}})},h=(r(728),r(6)),component=Object(h.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"article-management-page"},[r("el-table",{staticStyle:{width:"100%"},attrs:{data:t.userArticles}},t._l(t.columns,(function(e){return r("el-table-column",{key:e.prop,attrs:{prop:e.field,label:e.label,width:e.width},scopedSlots:t._u([{key:"default",fn:function(n){return["thumbnail"===e.slot?r("div",[r("div",{staticClass:"item-thumbnail",style:{border:"4px solid "+t.$color.borderColor}},[r("el-image",{staticStyle:{width:"100%",height:"80px"},attrs:{src:n.row[e.field],lazy:"",fit:"cover"}},[r("AppLoading",{staticClass:"image-slot",attrs:{slot:"placeholder",size:"large"},slot:"placeholder"})],1)],1)]):"title"===e.slot?r("div",[r("el-button",{attrs:{type:"text"}},[t._v(t._s(n.row[e.field]))])],1):"author"===e.slot?r("div",[t._v("\n          "+t._s(n.row[e.field].username)+"\n        ")]):"visible"===e.slot?r("div",[r("el-switch",{attrs:{value:n.row[e.field],"active-value":1,"inactive-value":0,"active-color":"#13ce66"},on:{change:function(e){return t.togglePublish(e,n.row._id)}}})],1):"operate"===e.slot?r("div",[r("el-button",{attrs:{type:"primary",plain:"",size:"mini",icon:"el-icon-edit"},on:{click:function(e){return t.edit(n.row)}}}),t._v(" "),r("el-button",{attrs:{type:"warning",plain:"",size:"mini",icon:"el-icon-setting"},on:{click:function(e){return t.config(n.row)}}}),t._v(" "),r("el-button",{attrs:{type:"danger",plain:"",size:"mini",icon:"el-icon-delete"},on:{click:function(e){return t.del(n.row)}}})],1):r("div",[t._v("\n          "+t._s(n.row[e.field])+"\n        ")])]}}],null,!0)})})),1)],1)}),[],!1,null,"5a293999",null);e.default=component.exports}}]);