{"version":3,"file":"pages/admin/index.js","sources":["webpack:///./pages/admin/index.vue?f474","webpack:///./pages/admin/index.vue","webpack:///./pages/admin/index.vue?ef40","webpack:///./pages/admin/index.vue?8ab2"],"sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"admin-system-page\"},[_vm._ssrNode(\"<h1>系统管理</h1> \"),_c('el-form',{attrs:{\"model\":_vm.systemConfig,\"label-position\":\"left\",\"label-width\":\"80px\"}},[_c('el-form-item',{attrs:{\"label\":\"用户信息\"}},[_c('el-radio-group',{on:{\"change\":function($event){return _vm.changeSystemConfig($event, 'portalUser')}},model:{value:(_vm.systemConfig.portalUser),callback:function ($$v) {_vm.$set(_vm.systemConfig, \"portalUser\", $$v)},expression:\"systemConfig.portalUser\"}},_vm._l((_vm.userList),function(user){return _c('el-radio',{key:user._id,attrs:{\"label\":user._id}},[_vm._v(_vm._s(user.username))])}),1)],1),_vm._v(\" \"),_c('el-form-item',{attrs:{\"label\":\"登出\"}},[_c('el-button',{on:{\"click\":_vm.logout}},[_vm._v(\"登出\")])],1)],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapActions } from 'vuex';\n\nexport default {\n  data() {\n    return {\n      systemConfig: {\n        portalUser: ''\n      },\n      userList: []\n    };\n  },\n  async mounted() {\n    try {\n      const systemConfig = await this.getSystemConfig();\n      this.systemConfig = systemConfig;\n      const { list } = await this.getAllUsers({\n        filter: { disabled: false }\n      });\n      this.userList = list;\n    } catch (e) {}\n  },\n  methods: {\n    ...mapActions({\n      userLogout: 'user/logout',\n      getAllUsers: 'user/getAllUsers',\n      getSystemConfig: 'system/getAdminSystemConfig'\n    }),\n    changeSystemConfig(value, changeField) {\n      const { response } = this.$http({\n        url: '/system',\n        data: {\n          [changeField]: value\n        },\n        method: 'put',\n        showSuccessMsg: true,\n        showErrorMsg: true\n      });\n\n      response.then((data) => {});\n    },\n    async logout() {\n      try {\n        await this.userLogout();\n        this.$router.push('/');\n      } catch (e) {}\n    }\n  }\n};\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=736d4979&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nfunction injectStyles (context) {\n  \n  \n}\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  injectStyles,\n  null,\n  \"675f084e\"\n  \n)\n\nexport default component.exports"],"mappings":";;;;;;;;;;;AAAA;AACA;AACA;;;;;;;;ACFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AADA;AAGA;AAJA;AAMA;AACA;AAAA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AADA;AAGA;AACA;AACA;AACA;AAAA;AAEA;AACA;AACA;AAHA;AACA;AAIA;AACA;AAAA;AAAA;AACA;AACA;AACA;AADA;AAGA;AACA;AACA;AAPA;AAUA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAzBA;AAnBA;;AC5BA;;;;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}